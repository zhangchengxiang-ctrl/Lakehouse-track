# StarRocks CN (Compute Node) 配置 — 存算分离模式
# CN 无状态，数据持久化在 S3，热数据缓存在本地磁盘

# ---- Data Cache 核心配置 ----
# 本地缓存目录（挂载为 Docker Volume 持久化）
starlet_cache_dir = /opt/starrocks/cn/datacache

# 缓存容量上限（根据磁盘大小调整，开发环境 10GB 足够）
# 生产环境建议：本地 SSD 容量的 70~80%
starlet_cache_limit_gb = 10

# 缓存淘汰水位：使用率超过 high_water 开始淘汰，降到 low_water 停止
# 默认 80%/60%，适合大多数场景
starlet_cache_evict_high_water = 80
starlet_cache_evict_low_water = 60

# ---- 性能调优 ----
# 系统内存限制（容器限制 4GB，预留给 JVM 和系统）
mem_limit = 75%

# 并发扫描线程数（单节点开发环境适度降低）
pipeline_scan_thread_pool_thread_num = 0

# S3 连接优化
object_storage_max_connection_pool_size = 32
