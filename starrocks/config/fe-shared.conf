# StarRocks 存算分离 FE 配置（复用 MinIO paimon-lake bucket）
# 与 Paimon/Flink 共用同一 MinIO，数据存于 paimon-lake/starrocks/
run_mode = shared_data
cloud_native_storage_type = S3
aws_s3_endpoint = minio:9000
aws_s3_path = paimon-lake
aws_s3_access_key = minioadmin
aws_s3_secret_key = minioadmin
aws_s3_use_instance_profile = false
aws_s3_use_aws_sdk_default_behavior = false
enable_load_volume_from_conf = true
# 优化存算分离缓存与查询性能
query_port = 9030
# 开启 Data Cache 自动异步预热（可选）
# enable_shared_data_mode_warmup = true
# 允许物化视图在数据湖上更高效地运行
enable_materialized_view_rewrite = true
# StarRocks 3.5+ 存算分离优化：开启自动元数据清理
enable_shared_data_mode_metadata_cleanup = true
# 针对 Paimon 0.9+ 的优化：开启统计信息自动收集
enable_stats_auto_collect = true
# 限制元数据缓存占用，防止 OOM
metadata_cache_memory_limit_percent = 20
# 开启慢查询日志，便于排查性能抖动
slow_query_log_threshold_ms = 1000
# 存算分离 Data Cache 配置
starlet_cache_dir = /opt/starrocks/cn/datacache
# 建议缓存大小（根据磁盘空间调整，此处示例为 10GB）
# starlet_cache_limit_gb = 10
